<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>homebridge-nello - v1.3.14</title>
	<meta name="description" content="Documentation for homebridge-nello - v1.3.14">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">homebridge-nello - v1.3.14</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>Project homebridge-nello - v1.3.14</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#homebridge-nello" id="homebridge-nello" style="color: inherit; text-decoration: none;">
					<h1>homebridge-nello</h1>
				</a>
				<p><a href="https://github.com/homebridge/homebridge/wiki/Verified-Plugins"><img src="https://badgen.net/badge/homebridge/verified/purple" alt="verified-by-homebridge"></a></p>
				<p>This project is a homebridge plugin for the smart intercom nello.io. All your nello.io locks are dynamically added to HomeKit as lock accessories. If you want to learn more about the smart intercom nello one, please visit <a href="https://www.nello.io">https://www.nello.io</a>.</p>
				<p><a href="https://lukasroegner.github.io/homebridge-nello">Configuration / Docs</a></p>
				<a href="#features" id="features" style="color: inherit; text-decoration: none;">
					<h2>Features</h2>
				</a>
				<ul>
					<li>Door Lock</li>
					<li>Motion Sensor</li>
					<li>Video Doorbell</li>
					<li>Configurable Switch to automatically open the door on ring</li>
				</ul>
				<a href="#disclaimer" id="disclaimer" style="color: inherit; text-decoration: none;">
					<h2>Disclaimer</h2>
				</a>
				<p>Nello went bankrupt and was bought by Sclak. The public API was down for a long time after the announcement in October 2019 (though the app worked intermittently), but is back online as of August 2020. This plugin may stop working at any time due to this uncertainty. (See: <a href="https://github.com/lukasroegner/homebridge-nello/issues/48">#48</a>)</p>
				<a href="#migration-guide-from-05x-to-1xx" id="migration-guide-from-05x-to-1xx" style="color: inherit; text-decoration: none;">
					<h2>Migration Guide from 0.5.x to 1.x.x</h2>
				</a>
				<p>Look here: <a href="https://github.com/lukasroegner/homebridge-nello/releases/tag/v1.0.0">Release v1.0.0</a></p>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<p>It&#39;s recommended to create a new dedicated nello.io account in order to prevent duplicated notifications if you open the door over the Home app. It&#39;s also possible to use your own account with this plugin.</p>
				<ol>
					<li><p>Install the plugin via npm:</p>
						<pre><code class="language-bash"><span style="color: #000000">npm install homebridge-nello -g</span>
</code></pre>
					</li>
					<li><p>Generate clientId &amp; clientSecret</p>
						<p> <strong>IMPORTANT:</strong> Please visit <a href="https://auth.nello.io/admin/">https://auth.nello.io/admin/</a> and sign in with your username and password that you also use in the nello.io app. If you are using a dedicated user account for this plugin, make sure that you use the credentials of this account to generate a client ID.</p>
						<p> Fill in all required fields in the &quot;Create API client&quot; form (mark all &quot;Allowed response type&quot;s and &quot;Allowed grant type&quot;s)</p>
					</li>
					<li><p>Add the basic configuration</p>
						<pre><code class="language-json"><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #0451A5">&quot;platforms&quot;</span><span style="color: #000000">: [</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">      </span><span style="color: #0451A5">&quot;platform&quot;</span><span style="color: #000000"> : </span><span style="color: #A31515">&quot;NelloPlatform&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #0451A5">&quot;name&quot;</span><span style="color: #000000"> : </span><span style="color: #A31515">&quot;nello.io&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #0451A5">&quot;auth&quot;</span><span style="color: #000000">: {</span>
<span style="color: #000000">        </span><span style="color: #0451A5">&quot;clientSecret&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;&lt;paste-client-secret-here&gt;&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #0451A5">&quot;clientId&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;&lt;paste-client-id-here&gt;&quot;</span>
<span style="color: #000000">      }</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  ]</span>
<span style="color: #000000">}</span>
</code></pre>
					</li>
					<li><p>This exposes ONLY the door lock. Look at the <a href="https://lukasroegner.github.io/homebridge-nello/modules/_config_.html">docs</a> for more options to configure motion sensors, the video doorbell, a custom webhook server, automation helper switches, and configure reachability.</p>
					</li>
				</ol>
				<a href="#optional-installation-of-ffmpeg" id="optional-installation-of-ffmpeg" style="color: inherit; text-decoration: none;">
					<h3>Optional: Installation of FFMPEG</h3>
				</a>
				<p>You can install the default package or compile it yourself if you have a special case to fit.</p>
				<pre><code class="language-bash"><span style="color: #000000">sudo apt-get install ffmpeg</span>
</code></pre>
				<p>General information about ffmpeg can be found here <a href="https://github.com/KhaosT/homebridge-camera-ffmpeg/wiki">https://github.com/KhaosT/homebridge-camera-ffmpeg/wiki</a>)</p>
				<p>Due to HomeKit limitations it&#39;s required to add the camera separately. Just tap on the plus button in the top right corner, choose &quot;Add Accessory&quot; and click on &quot;Don&#39;t Have a Code or Can&#39;t Scan?&quot;. In the next view you should see the camera accessory. Tap it in order to add it to the Home app. The PIN is the same as of your HomeBridge instance.</p>
				<p><strong>You need to install ffmpeg if you want to see a picture in the Home app. Just take a look at last paragraph of the Installation part.</strong></p>
				<a href="#implementation-details" id="implementation-details" style="color: inherit; text-decoration: none;">
					<h2>Implementation Details</h2>
				</a>
				<p>This plugin uses the HTTP API of nello.io for the following features:</p>
				<ul>
					<li>Nello Authentication: Retrieves a token using the specified client ID &amp; secret</li>
					<li>Nello Public API: see all methods in <a href="https://github.com/lukasroegner/homebridge-nello/blob/master/src/lib/APIClient.ts">APIClient</a></li>
				</ul>
				<p>Others</p>
				<ul>
					<li>Video Doorbell - This plugin uses <a href="https://github.com/KhaosT/homebridge-camera-ffmpeg">https://github.com/KhaosT/homebridge-camera-ffmpeg</a> and <a href="https://github.com/moritzmhmk/homebridge-camera-rpi">https://github.com/moritzmhmk/homebridge-camera-rpi</a> for implementation</li>
				</ul>
				<a href="#security" id="security" style="color: inherit; text-decoration: none;">
					<h2>Security</h2>
				</a>
				<ul>
					<li>All requests to the nello.io are made over HTTPS.</li>
					<li>The client secret used by this plugin has to be specified in the <code>config.json</code> on the PC/Mac/Raspberry running homebridge. Please make sure that nobody can access this device within your local network without permission.</li>
					<li>In the Apple Home app, a lock can be easily unlocked with a single tap on the icon. Please be careful not to open the door unintentionally.</li>
					<li>The webhook uses a relay service which is hosted by @AlexanderBabel. You can find the source code of the service here: <a href="https://github.com/AlexanderBabel/nello-backend">https://github.com/AlexanderBabel/nello-backend</a>. You can override this and configure your own URL if you expose the right ports, look at the docs for more info.</li>
				</ul>
				<a href="#development" id="development" style="color: inherit; text-decoration: none;">
					<h2>Development</h2>
				</a>
				<a href="#linting" id="linting" style="color: inherit; text-decoration: none;">
					<h3>Linting</h3>
				</a>
				<p><code>npm run lint</code> / <code>npm run format</code></p>
				<a href="#publishing" id="publishing" style="color: inherit; text-decoration: none;">
					<h3>Publishing</h3>
				</a>
				<ul>
					<li>To bump the version and publish automatically, go to the <a href="https://github.com/lukasroegner/homebridge-nello/actions?query=workflow%3Abump-version"><code>bump-version</code></a> workflow and trigger a new event by clicking <code>Run workflow</code>. You can enter <code>major</code> <code>minor</code> <code>patch</code> or an actual version like <code>v0.0.1</code>. This bumps the <code>package.json</code> version, creates a tag, updates the docs, pushes it back to master, and publishes to npm. (Source: <a href="./.github/workflows/bump-version.yml">bump-version.yml</a>).</li>
					<li>Now go to <a href="https://github.com/lukasroegner/homebridge-nello/releases">Releases</a> where you will see a release already published for you. You should update the release notes here.</li>
				</ul>
				<p>(Requires GitHub Action <code>NPM_TOKEN</code> secret to be set in the repo with publish rights).</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#config" class="tsd-kind-icon">Config</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#nelloauthconfig" class="tsd-kind-icon">Nello<wbr>Auth<wbr>Config</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#nelloplatformconfig" class="tsd-kind-icon">Nello<wbr>Platform<wbr>Config</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#nellovideoconfig" class="tsd-kind-icon">Nello<wbr>Video<wbr>Config</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#auth_uri" class="tsd-kind-icon">AUTH_<wbr>URI</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#default_config" class="tsd-kind-icon">DEFAULT_<wbr>CONFIG</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#nello_hmac_header" class="tsd-kind-icon">NELLO_<wbr>HMAC_<wbr>HEADER</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#platform_name" class="tsd-kind-icon">PLATFORM_<wbr>NAME</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#plugin_name" class="tsd-kind-icon">PLUGIN_<wbr>NAME</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#public_api_uri" class="tsd-kind-icon">PUBLIC_<wbr>API_<wbr>URI</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="modules.html#socket_backend" class="tsd-kind-icon">SOCKET_<wbr>BACKEND</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer>
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
		</div>
	</div>
</footer>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>